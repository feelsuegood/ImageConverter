<!-- * Main container for the whole page -->
<div class="container">
  <p>Welcome to Image Converter! Please upload a suitable image and specify the desired size.</p>
  <p>You can select a Social Media option below to automatically fill in the required dimensions needed for a profile picture!</p>
  <!-- * Information section with file requirements -->
  <div class="container info-section">
    <p id="requirements">Requirements for the selected image:</p>
    <ul>
      <!-- * List down the file upload requirements -->
      <li>File size limit: {{fileSize}}MB</li>
      <li>Only JPEG, GIF, and WEBP images can be converted and chosen as the output file type.</li>
      <li>Max width: {{maxWidth}}px, max height: {{maxHeight}}px</li>
    </ul>
  </div>

  <!-- * Form for uploading and converting image -->
  <form action="/" method="post" enctype="multipart/form-data">
    <label for="image">Select Image:</label>
    <input type="file" name="image" id="image" accept="image/*" />
    <br />

    <!-- * Dropdown for seclecting social media -->
    <label for="socialMedia">Desired Social Media (Optional):</label>
    <select name="socialMedia" id="socialMedia" required>
      {{!-- Dimensions for each social media: 
            Insta: 320px x 320px
            Facebook: 170px x 170px
            Twitter: 400px x 400px
      --}}
      <option value="" selected>None</option> 
      <option value="Instagram">Instagram</option> 
      <option value="Facebook">Facebook</option>
      <option value="Twitter">Twitter</option>
    </select>
    <br />


    <!-- * Field for specifying desired image width -->
    <label for="width">Desired Width:</label>
    <input
      type="number"
      name="width"
      id="width"
      required
      min="1"
      max={{maxWidth}}
    />
    <br />

    <!-- * Field for specifying desired image height -->
    <label for="height">Desired Height:</label>
    <input
      type="number"
      name="height"
      id="height"
      required
      min="1"
      max={{maxHeight}}
    />
    <br />

    <!-- * Dropdown for selecting desired image format -->
    <label for="format">Desired Format:</label>
    <select name="format" id="format" required>
      <option value="jpeg">JPEG</option>
      <option value="gif">GIF</option>
      <option value="webp">WEBP</option>
    </select>
    <div style="height: 15px;"></div>

    <!-- * Submit button -->
    <button class="btn btn-inverse btn-custom" type="submit">Convert Image</button>
  </form>

  <!-- * Text that appears while image is being processed -->
  <p
    id="processingText"
    style="font-family: 'Poppins'; display: none;"
  >Processing...</p>
  <br />

  <!-- * Result section -->
  {{#if result}}
    <div class="result-container">
      <!-- ! Download button -->
      <a
        href="data:image/jpeg;base64,{{convertedImage}}"
        download={{newFilename}}
      >
        <button class="btn btn-success btn-custom">Download Image</button>
      </a>
    </div>

    <!-- * Text showing the conversion result -->
    <p id="result-text">{{result}}</p>

    <!-- * Display the converted image -->
    <img
      class="converted-image"
      src="data:image/jpeg;base64,{{convertedImage}}"
      alt="Uploaded Image"
    />

    <div style="height: 15px;"></div>
  {{/if}}
</div>